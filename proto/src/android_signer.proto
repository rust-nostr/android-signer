syntax = "proto3";

package android_signer;

service AndroidSigner {
  rpc IsExternalSignerInstalled (IsExternalSignerInstalledRequest) returns (IsExternalSignerInstalledReply) {}

  rpc GetPublicKey (GetPublicKeyRequest) returns (GetPublicKeyReply) {}

  rpc SignEvent (SignEventRequest) returns (SignEventReply) {}
}

message IsExternalSignerInstalledRequest {}

message IsExternalSignerInstalledReply {
  bool installed = 1;
}

message GetPublicKeyRequest {}

message GetPublicKeyReply {
  string public_key = 1;
}

message SignEventRequest {
  // The unsigned event JSON
  string unsigned_event = 1;
}

message SignEventReply {
  // The event JSON
  string event = 1;
}
